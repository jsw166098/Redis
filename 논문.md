# 데이터 병렬성을 활용한 로그 파일 재구축 부하 개선 연구

## 데이터 지속성 기법

Redis 는 메모리에 데이터를 저장히기 때문에 전원 공급이 중단되면 DRAM의 휘발성 성질로 인해 데이터가 모두 사라지게 된다. 데이터를 보존하기 위해 다음과 같은 데이터 지속성 기법을 제공한다.
* RDB
* AOF

### RDB
* 일정한 간격으로 스냅샷을 생성하는 기법이다.
* 우수한 로깅 및 복구 성능의 장접이 있지만 일정 주기마다 동작되기 때문에 데이터가 유실될 가능성이 있다.

### AOF 
* 데이터 셋을 변경하는 요청이 발생할 때마다 해다아 명령에 대한 로그 레코드를 로그 파일에 덧붙여 나가는 방법이다.
* 사용자가 계속적으로 요청할 경우 로그 파일의 크기가 지속적으로 증가하게 된다. 

## AOF 파일 재구성하는 방법

AOF 로크 파일이 과도하게 증가하는 것을 방지하기 위해 다음과 같은 방법들이 제공된다.

* AOF Rewrite: 저장된 데이터셋을 구성하는 데 필요한 로그 레코드만을 다시 작성하여 AOF 파일 크기를 축소시킨다.
* AOF-USE-RDB-PREAMBLE: AOF와 RDB를 혼합하여 사용하면서 로그 파일을 재구축하는 방법이다. 

## 문제

AOF 파일 재구성하는 과정에서 시스템 자원 및 데이터 처리 성능 측면에서 심각한 부하를 발생시킨다. 
* 부가적인 메모리 사용
* 잦은 디스크 입출력 

~~~
로그 파일 재구축으로 인하여 발생하는 데이터 처리 성능 감소와 메모리 사용량 증가 현상을 개선하기 위해, 데이터 병렬성을 활용한 로그 파일 재구축 기법을 제안
~~~

* 

